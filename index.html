<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorpresa Especial</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <img src="https://images.unsplash.com/photo-1562690868-60bbe7293e94?auto=format&fit=crop&w=300&q=80" class="clavel clavel-arriba-izq" alt="Clavel decorativo">
    <img src="https://images.unsplash.com/photo-1562690868-60bbe7293e94?auto=format&fit=crop&w=300&q=80" class="clavel clavel-abajo-der" alt="Clavel decorativo">

    <div class="container">
        
        <div id="pantalla-clave">
            <h2>üîí Ingresa la contrase√±a</h2>
            
            <div id="pin-display" class="pin-display">
                _ _ _ _
            </div>

            <div class="teclado">
                <button class="btn-tecla" onclick="agregarNumero('1')">1</button>
                <button class="btn-tecla" onclick="agregarNumero('2')">2</button>
                <button class="btn-tecla" onclick="agregarNumero('3')">3</button>
                <button class="btn-tecla" onclick="agregarNumero('4')">4</button>
                <button class="btn-tecla" onclick="agregarNumero('5')">5</button>
                <button class="btn-tecla" onclick="agregarNumero('6')">6</button>
                <button class="btn-tecla" onclick="agregarNumero('7')">7</button>
                <button class="btn-tecla" onclick="agregarNumero('8')">8</button>
                <button class="btn-tecla" onclick="agregarNumero('9')">9</button>
                
                <button class="btn-tecla btn-accion" onclick="borrarNumero()">‚å´</button>
                <button class="btn-tecla" onclick="agregarNumero('0')">0</button>
                <button class="btn-tecla btn-accion btn-submit" onclick="verificarClave()">OK</button>
            </div>
        </div>

        <div id="pantalla-carta">
            <div class="carta-contenedor">
                <div class="fecha">üóìÔ∏è 24 Junio 2025</div>
                
                <div class="titulo-carta">‚â° Para mi hermosa Mia</div>
                
                <div class="foto-contenedor">
                    <img src="https://images.unsplash.com/photo-1518133910546-b6c2fb7d79e3?auto=format&fit=crop&w=300&q=80" alt="Nuestra foto" class="foto-recuerdo">
                </div>

                <div class="texto-carta">
                    <p>Quiero que sepas lo feliz que soy por tenerte en mi vida. Desde que llegaste, todo cambi√≥ para mejor. Me haces sentir amada, cuidada y acompa√±ada.</p>
                    
                    <p>A tu lado aprend√≠ lo que es el amor verdadero, ese que se demuestra con acciones, con palabras sinceras y con esos peque√±os detalles que hacen la diferencia.</p>
                    
                    <p>No s√© c√≥mo explicarlo, pero contigo mi coraz√≥n est√° en paz. Eres mi alegr√≠a diaria y la raz√≥n de tantas sonrisas.</p>

                    <p class="despedida">Te amo profundamente. ‚ô°</p>
                </div>
            </div>
        </div>

    </div>

    <script>
        const CLAVE_CORRECTA = "0123"; 
        let claveIngresada = "";
        const display = document.getElementById("pin-display");

        function actualizarDisplay() {
            let textoVisible = "";
            for (let i = 0; i < 4; i++) {
                if (i < claveIngresada.length) {
                    textoVisible += "‚Ä¢ "; 
                } else {
                    textoVisible += "_ "; 
                }
            }
            display.innerText = textoVisible.trim();
        }

        function agregarNumero(num) {
            if (claveIngresada.length < 4) {
                claveIngresada += num;
                actualizarDisplay();
            }
        }

        function borrarNumero() {
            if (claveIngresada.length > 0) {
                claveIngresada = claveIngresada.slice(0, -1);
                actualizarDisplay();
                display.classList.remove("error-shake"); 
            }
        }

        // Esta funci√≥n ahora solo se ejecuta al presionar "OK"
        function verificarClave() {
            if (claveIngresada === CLAVE_CORRECTA) {
                document.getElementById("pantalla-clave").style.display = "none";
                document.getElementById("pantalla-carta").style.display = "block";
            } else {
                display.classList.add("error-shake");
                setTimeout(() => {
                    claveIngresada = "";
                    actualizarDisplay();
                    display.classList.remove("error-shake");
                }, 600);
            }
        }

        actualizarDisplay();
    </script>

</body>
</html>