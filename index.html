<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Mia</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <img src="https://images.unsplash.com/photo-1520764834381-81d7cc01f78e?auto=format&fit=crop&w=300&q=80" class="tulipan tulipan-izq" alt="Tulip√°n decorativo">
    <img src="https://images.unsplash.com/photo-1520764834381-81d7cc01f78e?auto=format&fit=crop&w=300&q=80" class="tulipan tulipan-der" alt="Tulip√°n decorativo">

    <div class="container">
        
        <div class="encabezado-principal">
            <h1>Nuestra historia nunca tendra un final</h1>
            <p>ya que tu y yo estamos destinados a amarnos de por vida Mia.</p>
        </div>

        <div id="pantalla-clave">
            <h2>üîí Ingresa el PIN</h2>
            
            <div id="pin-display" class="pin-display">
                _ _ _ _
            </div>

            <div class="teclado">
                <button class="btn-tecla" onclick="agregarNumero('1')">1</button>
                <button class="btn-tecla" onclick="agregarNumero('2')">2</button>
                <button class="btn-tecla" onclick="agregarNumero('3')">3</button>
                <button class="btn-tecla" onclick="agregarNumero('4')">4</button>
                <button class="btn-tecla" onclick="agregarNumero('5')">5</button>
                <button class="btn-tecla" onclick="agregarNumero('6')">6</button>
                <button class="btn-tecla" onclick="agregarNumero('7')">7</button>
                <button class="btn-tecla" onclick="agregarNumero('8')">8</button>
                <button class="btn-tecla" onclick="agregarNumero('9')">9</button>
                
                <button class="btn-tecla btn-accion btn-borrar" onclick="borrarNumero()">‚å´</button>
                <button class="btn-tecla" onclick="agregarNumero('0')">0</button>
                <button class="btn-tecla btn-accion btn-submit" onclick="verificarClave()">OK</button>
            </div>
        </div>

        <div id="pantalla-carta">
            <div class="carta-contenedor">
                <div class="fecha">üóìÔ∏è [Fecha de su aniversario]</div>
                
                <div class="titulo-carta">‚â° Para mi hermosa Mia</div>
                
                <div class="foto-contenedor">
                    <img src="https://images.unsplash.com/photo-1518133910546-b6c2fb7d79e3?auto=format&fit=crop&w=300&q=80" alt="Nuestra foto" class="foto-recuerdo">
                </div>

                <div class="texto-carta">
                    <p>Aqu√≠ ir√° el texto de tu carta...</p>
                </div>
            </div>
        </div>

    </div>

    <script>
        const CLAVE_CORRECTA = "0123"; // <-- CAMBIA ESTO POR TU CLAVE
        let claveIngresada = "";
        const display = document.getElementById("pin-display");

        function actualizarDisplay() {
            let textoVisible = "";
            for (let i = 0; i < 4; i++) {
                if (i < claveIngresada.length) {
                    textoVisible += "‚Ä¢ "; 
                } else {
                    textoVisible += "_ "; 
                }
            }
            display.innerText = textoVisible.trim();
        }

        function agregarNumero(num) {
            // Solo permite agregar hasta 4 n√∫meros
            if (claveIngresada.length < 4) {
                claveIngresada += num;
                actualizarDisplay();
            }
        }

        function borrarNumero() {
            // Borra el √∫ltimo n√∫mero ingresado
            if (claveIngresada.length > 0) {
                claveIngresada = claveIngresada.slice(0, -1);
                actualizarDisplay();
                display.classList.remove("error-shake"); 
            }
        }

        function verificarClave() {
            // Solo verifica cuando se presiona OK
            if (claveIngresada === CLAVE_CORRECTA) {
                // Oculta todo el inicio (incluyendo el t√≠tulo) y muestra la carta
                document.querySelector('.encabezado-principal').style.display = "none";
                document.getElementById("pantalla-clave").style.display = "none";
                document.getElementById("pantalla-carta").style.display = "block";
            } else {
                display.classList.add("error-shake");
                setTimeout(() => {
                    claveIngresada = "";
                    actualizarDisplay();
                    display.classList.remove("error-shake");
                }, 600);
            }
        }

        actualizarDisplay();
    </script>

</body>
</html>